task build();

ext {
  webHome = new File('contents');
  srcDir = new File('src');
  templateDir = new File(srcDir, 'templates');
}


task copyImages(type: Copy) {
  from 'src/images'
  into   'contents'
}

build.dependsOn 'copyImages';

task buildHomePage() {
  inputs.file new File(templateDir, 'homePage.template.html');
  outputs.file new File('index.html');
  doLast () {
    def templateFile = new File(templateDir, 'homePage.template.html');
    def indexFile = new File('index.html');
    assert templateFile.exists();
    indexFile.text = templateFile.text;
  }
}

build.dependsOn "buildHomePage"
