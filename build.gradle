task build();

ext {
  webHome = new File('contents');
  srcDir = new File('src');
  templateDir = new File(srcDir, 'templates');
}


task copyImages(type: Copy) {
  from 'src/images'
  into   'contents'
}

build.dependsOn 'copyImages';

task buildHomePage() {
  inputs.file new File(templateDir, 'homePage.template.html');
  inputs.file new File('BuildHomePage.groovy');
  outputs.file new File('index.html');
  doLast () {
    println "cmd /c BuildHomePage.groovy".execute().text;
  }
}

build.dependsOn "buildHomePage"
